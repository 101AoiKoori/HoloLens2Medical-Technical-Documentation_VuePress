---
title: MPR 概述
---

# MPR 模块概述

`MPRTextureManager` 是实现多平面重建（Multi-Planar Reconstruction, MPR）的控制器。它继承自 `MonoBehaviour`，并负责在 Unity 场景中调度纹理生成和缓存，实现异步加载、优先级队列、内存管理等功能。

## 主要职责

- **绑定数据序列**:通过 `SetDicomSeries()` 指定当前的 DICOM 数据并初始化相关状态。
- **协调索引与窗口宽窗位**:根据用户的输入更新当前切片索引和窗宽窗位，并通知缓存与生成器更新。
- **请求与获取纹理**:通过 `GetTexture()` 和 `RequestTexture()` 接收 UI 请求，判断是否立即返回缓存或加入异步队列。
- **管理请求队列**:维护一个按优先级排序的请求队列，控制并发生成数量，并自动取消重复请求。
- **内存监控与清理**:定时监控内存压力，在必要时调用缓存模块的淘汰逻辑或释放资源。

## 模块结构

`MPRTextureManager` 采用分文件实现，不同文件负责 API、生命周期、队列管理、纹理生成、内存监控等各自的逻辑。对外暴露的主要接口在 API 文件中定义，如后续各节所述。